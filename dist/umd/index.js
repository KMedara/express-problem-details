!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.exampleTypescriptPackage=t():e.exampleTypescriptPackage=t()}(this,(()=>(()=>{"use strict";var e={454:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.HttpStatus=void 0,(r=t.HttpStatus||(t.HttpStatus={}))[r.BadRequest=400]="BadRequest",r[r.InternalServerError=500]="InternalServerError"},966:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorMapper=void 0;t.ErrorMapper=function(e,t,r){var o=this;this._shouldMap=function(e,t){return o._predicate(e,t)&&t.constructor.name===(new o._type).constructor.name},this.tryMap=function(e,t){return o._shouldMap(e,t)?{problem:o._mapping(e,t),success:!0}:{problem:null,success:!1}},this._mapping=t,this._predicate=r,this._type=e}},924:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isProblemDetailsError=void 0;var o=r(803);t.isProblemDetailsError=function(e){var t=Object.getPrototypeOf,r=t(e).constructor===o.ProblemDetailsError,n=t(t(e)).constructor===o.ProblemDetailsError;return r||n}},181:function(e,t,r){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemDetailsFactory=t.ProblemDetailsFactoryConfiguration=void 0;var n=r(454),i=r(350);t.ProblemDetailsFactoryConfiguration=function(e){this.options=o(o({},(0,i.ProblemDetailsOptionsSetup)()),e())};var a=function(){function e(e){this.config=e,this._options=e.options}return e.prototype.create=function(e,t){return this.mapToProblemDetails(e,t)},e.prototype.mapToProblemDetails=function(e,t){var r=this._options.tryMapProblemDetails(e,t);return r.success?r.problem:this._options.mapStatusCode(t,n.HttpStatus.InternalServerError)},e}();t.ProblemDetailsFactory=a},440:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.problemDetailsMiddleware=void 0;var o=r(747),n=r(454);t.problemDetailsMiddleware=function(e){return function(t,r,i,a){var l;if(i.headersSent)return a(t);var s=new o.ProblemDetails;try{s=e.create(r,t)}catch(e){s=o.ProblemDetails.create(t,n.HttpStatus.InternalServerError)}return i.setHeader("Content-Type",e._options.contentType),i.status(null!==(l=s.status)&&void 0!==l?l:500),i.json(s)}}},350:function(e,t,r){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemDetailsOptions=t.ProblemDetailsOptionsSetup=void 0;var n=r(966),i=r(747),a=r(924);t.ProblemDetailsOptionsSetup=function(e){var t,r,n=e?o({},e):new l;return n.mapStatusCode=null!==(t=n.mapStatusCode)&&void 0!==t?t:function(e,t){return i.ProblemDetails.create(e,t)},n.contentType=null!==(r=n.contentType)&&void 0!==r?r:"application/problem+json",n.isProblem=function(e){return(0,a.isProblemDetailsError)(e)},n};var l=function(){var e=this;this._mappers=[],this.tryMapProblemDetails=function(t,r){for(var o=0,n=e._mappers;o<n.length;o++){var i=(0,n[o].tryMap)(t,r);if(i.success)return i}return{success:!1,problem:null}},this.mapToStatusCode=function(t,r){e.map(t,(function(e,t){return i.ProblemDetails.create(t,r)}))},this.mapToProblemDetails=function(t,r,o){e.map(t,(function(e,t){return i.ProblemDetails.create(t,r,{instance:e.url,type:o})}))},this.map=function(t,r){e.mapWithContext(t,r)},this.mapWithContext=function(t,r){e.mapWithPredicate(t,(function(){return!0}),r)},this.mapWithPredicate=function(t,r,o){e._mappers.push(new n.ErrorMapper(t,o,r))}};t.ProblemDetailsOptions=l},747:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemDetails=void 0;var o=r(924),n=function(){function e(){}var t;return t=e,e.create=function(e,r,n){return console.log(!(0,o.isProblemDetailsError)(e),e.constructor.prototype),(0,o.isProblemDetailsError)(e)?t._createFromProblemDetailsError(e,r,n):t._create(e,r,n)},e._create=function(e,t,r){var o,n,i,a,l,s={details:null!==(o=null==r?void 0:r.details)&&void 0!==o?o:e.message,title:null!==(n=null==r?void 0:r.title)&&void 0!==n?n:e.constructor.name.replace("Error","").replace(/([a-z])([A-Z])/g,"$1 $2"),status:null!==(i=null!=t?t:null==r?void 0:r.status)&&void 0!==i?i:500,instance:null!==(a=null==r?void 0:r.instance)&&void 0!==a?a:""};return s.type=null!==(l=null==r?void 0:r.type)&&void 0!==l?l:"https://httpstatuses.io/".concat(s.status),s},e._createFromProblemDetailsError=function(e,t,r){var o,n,i,a,l,s,u={details:null!==(o=null==r?void 0:r.details)&&void 0!==o?o:e.message,title:null!==(n=null==r?void 0:r.title)&&void 0!==n?n:e.constructor.name.replace("Error","").replace(/([a-z])([A-Z])/g,"$1 $2"),status:null!==(i=null!=t?t:null==r?void 0:r.status)&&void 0!==i?i:500,instance:null!==(a=null==r?void 0:r.instance)&&void 0!==a?a:"",extensions:null!==(l=e.extensions)&&void 0!==l?l:{}};return u.type=null!==(s=null==r?void 0:r.type)&&void 0!==s?s:"https://httpstatuses.io/".concat(u.status),u},e}();t.ProblemDetails=n},803:function(e,t){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemDetailsError=void 0;var n=function(e){function t(t,r){var o=e.call(this,t)||this;return o.extensions=r,o}return o(t,e),t}(Error);t.ProblemDetailsError=n}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}var o={};return(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.ProblemDetailsError=e.ProblemDetails=e.problemDetailsMiddleware=e.ProblemDetailsFactory=e.ProblemDetailsFactoryConfiguration=e.ProblemDetailsOptions=e.ProblemDetailsOptionsSetup=e.HttpStatus=e.isProblemDetailsError=e.ErrorMapper=void 0;var t=r(966);Object.defineProperty(e,"ErrorMapper",{enumerable:!0,get:function(){return t.ErrorMapper}});var n=r(924);Object.defineProperty(e,"isProblemDetailsError",{enumerable:!0,get:function(){return n.isProblemDetailsError}});var i=r(454);Object.defineProperty(e,"HttpStatus",{enumerable:!0,get:function(){return i.HttpStatus}});var a=r(350);Object.defineProperty(e,"ProblemDetailsOptionsSetup",{enumerable:!0,get:function(){return a.ProblemDetailsOptionsSetup}}),Object.defineProperty(e,"ProblemDetailsOptions",{enumerable:!0,get:function(){return a.ProblemDetailsOptions}});var l=r(181);Object.defineProperty(e,"ProblemDetailsFactoryConfiguration",{enumerable:!0,get:function(){return l.ProblemDetailsFactoryConfiguration}}),Object.defineProperty(e,"ProblemDetailsFactory",{enumerable:!0,get:function(){return l.ProblemDetailsFactory}});var s=r(440);Object.defineProperty(e,"problemDetailsMiddleware",{enumerable:!0,get:function(){return s.problemDetailsMiddleware}});var u=r(747);Object.defineProperty(e,"ProblemDetails",{enumerable:!0,get:function(){return u.ProblemDetails}});var p=r(803);Object.defineProperty(e,"ProblemDetailsError",{enumerable:!0,get:function(){return p.ProblemDetailsError}})})(),o})()));